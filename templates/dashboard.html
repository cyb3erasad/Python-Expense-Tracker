{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-6">Dashboard</h2>

<div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
    <div class="bg-green-100 p-4 rounded">
        <h3 class="font-bold">Income (This Month)</h3>
        <p class="text-xl">Rs {{ income }}</p>
    </div>

    <div class="bg-red-100 p-4 rounded">
        <h3 class="font-bold">Expense (This Month)</h3>
        <p class="text-xl">Rs {{ expense }}</p>
    </div>

    <div class="bg-blue-100 p-4 rounded">
        <h3 class="font-bold">Balance</h3>
        <p class="text-xl">Rs {{ balance }}</p>
    </div>
</div>

<div class="bg-white p-6 rounded shadow">
    <h3 class="font-bold mb-4">Income vs Expense (Current Year)</h3>
    <canvas id="yearChart"></canvas>
</div>

<script>
const ctx = document.getElementById('yearChart');

new Chart(ctx, {
    type: 'line',
    data: {
        labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
        datasets: [
            {
                label: 'Income',
                data: {{ monthly_income | safe }},
                borderWidth: 2
            },
            {
                label: 'Expense',
                data: {{ monthly_expense | safe }},
                borderWidth: 2
            }
        ]
    }
});
</script>

{% endblock %}